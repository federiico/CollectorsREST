<!DOCTYPE html>
<html>
    <head>
        <title>Web Avanzato</title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>
    <body>
        <h1 class="text-center">Web Avanzato!</h1>        
        <!-- Login -->
        <h3 class="text-center">Autenticazione</h3>
        <div class="container text-center col-4" style="border: 5px solid yellow;">
            <form method="POST" id="login">
                <div class="row text-center">
                    <label for="username">Username:</label>
                    <input type="text" name="username" />
                </div>
                <div class="row text-center">
                    <label for="password">Password:</label>
                    <input type="password" name="password" />
                </div>
                <br>
                <button type="submit" id="btnLogin" > INVIA </button>
            </form>
        </div>

    </body>
</html>

<script src="http://code.jquery.com/jquery-1.11.0.min.js"></script>

<!-- ListaAutori -->
<script>
    $(document).ready(function(){
<!--AUTENTICAZIONE-->
    $("#login").on("submit", function(response){             
        response.preventDefault();
            $.ajax({
                type: "POST",
                url: "http://localhost:8080/CollectorsREST/rest/auth/login",
                data: $("#login").serialize(),
                success: function(response){
                    var token=response.toString();
                    window.location.assign(`auth.html?token=${token}`);
                },
                error: function (){
                    console.log("errore");
                }
            });                 
      });
});
</script>

